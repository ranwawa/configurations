### 1. 怎么判断软链接是否成功?(20220224)

lerna 的一个重要问题就是解决包重复安装下载的问题.可这两天在使用 lerna add module 的时候,会给所有子包都安装这个 module

可按照 lerna 设计来讲的话,如果我要安装一个公共依赖,只需要安装的根目录下的 package.json 里面即可,为什么又要有这种命令安装到所有子包里面呢

实际情况究竟是

1. 每个子包都单独安装了 module?
2. 还是子包 a 已经安装 module,而子包 b 软链接了子包 a 的 module?

### [已解决]2. 软链接究竟是什么?表现形式是什么样的?(20220224)

#### 问题描述

一直以来就是根据字面意思进行理解的,就是将一个包指向另外一个包,更改了引用方式
可是在 npm 具体怎么表现的,我这种想法是否正确
心里没底
特别是现在用 lerna 来进行开发,如果还是迷迷糊糊的,咋弄?

#### 问题解决

- 使用 npm link '目标包的路径'
- 背后的逻辑
  - 将目标包添加到全局前缀的{npm prefix -g}lib/node_modules/目录下
  - 在当前包的 node_modules 中引用目标包
  - 目标包发生改变,当前包 node_modules 中的文件同步变化

### 3. yarn 如何自动安装 peerDependencies 依赖

#### 问题描述

在发布 stylelint,commitlint 以及 eslint 配置文件时,有些依赖是用户必要安装的
如果在文档中搞个 5,6 步安装所有依赖
就显的有点麻烦了
npm 7.x 以后可以自动安装 peerDependencies
但是 yarn 不行
如何破
